<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Darumadrop+One&display=swap"
      rel="stylesheet"
    />
    <title>Sudoku Project</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        background-image: url(pic/bg-home.png);
        background-size: cover;
        background-repeat: no-repeat;
        height: 100vh;
        font-family: "Darumadrop One", cursive;
      }
      .content {
        text-align: center;
        position: absolute;
        width: 50%;
        left: 25%;
        top: 50%;
        transform: translateY(-75%);
      }
      .win {
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
        padding-bottom: 170px;
      }
      span {
        -webkit-text-stroke-width: 2px;
        -webkit-text-stroke-color: black;
        font-size: 120px;
        text-shadow: 0 0px #f3c623, 0 0px #f2aaaa;
        transform: translate(0, 100%) rotate(5deg);

        animation: jump 3s ease-in-out infinite;
        display: inline-block;
        color: #fff;
        
      }
      @keyframes jump {
        33% {
          text-shadow: 0 30px #f37121, 0 60px #f2aaaa;
        }
        50% {
          transform: translate(0, 0) rotate(-4deg);
          text-shadow: 0 0px #8fc0a9, 0 0px #84a9ac;
        }
        66.67% {
          text-shadow: 0 -30px #d54062, 0 -60px #8fc0a9;
        }
      }
      .home {
        font-size: 32px;
        width: 250px;
        padding: 7px;
        height: fit-content;
        background-color: #ddb575;
        border: 2px solid black;
        border-radius: 50px;
        margin-left: auto;
        margin-right: auto;
      }
      a{
        text-decoration: none;
        color: black;
      }
      a :hover{
        color: greenyellow;
        font-weight: 600;
        -webkit-text-stroke-width: 1px;
        -webkit-text-stroke-color: black;
      }
    </style>
  </head>
  <body>
    <div class="content">
      <div class="win">
        <span>Y</span>
        <span>O</span>
        <span>U</span>
        <span>&nbsp;</span>
        <span>&nbsp;</span>
        <span>W</span>
        <span>I</span>
        <span>N</span>
      </div>
      <a href="Score.html">
        <div class="home">View Score</div>
      </a>
    </div>
  </body>
  <script>
       let bg = document.createElement("audio");
    bg.id = "bg";
    bg.src =
      "/preme/music/success-fanfare-trumpets-6185.mp3";
    bg.type = "audio/mpeg";
    bg.loop = false;
    bg.autoplay = true;
    document.getElementsByTagName("body")[0].appendChild(bg);


  function addNewTodoItem(value) {
  var headers = new Headers();
  headers.append("Content-Type", "application/json");

  var requestOptions = {
    method: "POST",
    body: JSON.stringify({
      name: value
    }),
    headers: headers
  };

  fetch(`https://crudcrud.com/api/10180d05ac934ccfb3d83d99bf4fcc28/history`, requestOptions)
}

    if(localStorage.history == null){
          localStorage.setItem("history", "[]")
        }

          if(localStorage.mode == "easy" && localStorage.status == "true"){
            let history = JSON.parse(localStorage.history)

            let time = localStorage.elapsedTime
            let mode = "Easy"
            let wrong = localStorage.countWrong1
            if(wrong == null) wrong = 0

            //history.push({"mode": mode, "time": time, "wrong": wrong})
            addNewTodoItem({"mode": mode, "time": time, "wrong": wrong}) 

            localStorage.removeItem("elapsedTime")
            localStorage.removeItem("mode")
            localStorage.removeItem("hidetotal")
            localStorage.removeItem("board")
            localStorage.removeItem("hide")
            localStorage.removeItem("countWrong1")
            localStorage.removeItem("status")

            localStorage.setItem("history", JSON.stringify(history))
          }else if(localStorage.mode == "med" && localStorage.status == "true"){
            let history = JSON.parse(localStorage.history)

            let time = localStorage.elapsedTime2
            let mode = "Medium"
            let wrong = localStorage.countWrong2
            if(wrong == null) wrong = 0

            //history.push({"mode": mode, "time": time, "wrong": wrong})
            addNewTodoItem({"mode": mode, "time": time, "wrong": wrong})

            localStorage.removeItem("elapsedTime2")
            localStorage.removeItem("mode2")
            localStorage.removeItem("hidetotal2")
            localStorage.removeItem("hide2")
            localStorage.removeItem("board2")
            localStorage.removeItem("countWrong2")
            localStorage.removeItem("status")

            localStorage.setItem("history", JSON.stringify(history))
          }else if(localStorage.mode == "hard" && localStorage.status == "true"){
            let history = JSON.parse(localStorage.history)

            let time = localStorage.elapsedTime3
            let mode = "Hard"
            let wrong = localStorage.countWrong3
            if(wrong == null) wrong = 0

            //history.push({"mode": mode, "time": time, "wrong": wrong})
            addNewTodoItem({"mode": mode, "time": time, "wrong": wrong})

            localStorage.removeItem("elapsedTime3")
            localStorage.removeItem("mode3")
            localStorage.removeItem("hidetotal3")
            localStorage.removeItem("hide3")
            localStorage.removeItem("board3")
            localStorage.removeItem("countWrong3")
            localStorage.removeItem("status")

            localStorage.setItem("history", JSON.stringify(history))
          }
   </script>

</html>
